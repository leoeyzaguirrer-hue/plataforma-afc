<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard - Plataforma AFC</title>
    <link rel="stylesheet" href="css/styles.css">
</head>
<body class="dashboard">
    <!-- Navbar -->
    <nav class="navbar">
        <div class="navbar-content">
            <h1>üß† Plataforma AFC</h1>
            <div class="user-info">
                <span class="user-name" id="userName">Usuario</span>
                <button class="btn-logout" onclick="logout()">Cerrar Sesi√≥n</button>
            </div>
        </div>
    </nav>

    <!-- Contenido Principal -->
    <div class="dashboard-container">
        <!-- Bienvenida -->
        <section class="welcome-section fade-in">
            <h2 id="welcomeMessage">¬°Bienvenido/a!</h2>
            <p>Desarrolla tus habilidades en An√°lisis Funcional de la Conducta a trav√©s de m√≥dulos estructurados, actividades pr√°cticas y casos reales.</p>
        </section>

        <!-- Estad√≠sticas -->
        <section class="stats-grid fade-in">
            <div class="stat-card">
                <div class="stat-value" id="progressPercentage">0%</div>
                <div class="stat-label">Progreso Total</div>
            </div>
            <div class="stat-card">
                <div class="stat-value" id="completedActivities">0</div>
                <div class="stat-label">Actividades Completadas</div>
            </div>
            <div class="stat-card">
                <div class="stat-value" id="totalTime">0m</div>
                <div class="stat-label">Tiempo Dedicado</div>
            </div>
        </section>

        <!-- M√≥dulos -->
        <section>
            <h2 style="margin-bottom: 24px; font-size: 1.8rem;">M√≥dulos de Formaci√≥n</h2>
            
            <!-- FASE 1: Fundamentos -->
            <div style="margin-bottom: 3rem;">
                <h3 style="color: #2563eb; margin-bottom: 1rem; font-size: 1.3rem;">üìò FASE 1: Fundamentos de la Conducta</h3>
                <div class="modules-grid">
                    <!-- M√≥dulo 1 -->
                    <div class="module-card" onclick="goToModule(1)">
                        <div class="module-icon">üìù</div>
                        <h3>Operacionalizaci√≥n de la Conducta</h3>
                        <p>Aprende a definir conductas de forma medible y observable</p>
                        <div class="module-progress">
                            <div class="progress-bar" id="progress-module1" style="width: 0%"></div>
                        </div>
                        <div class="progress-text">
                            <span id="text-module1">0% completado</span>
                        </div>
                    </div>

                    <!-- M√≥dulo 2 -->
                    <div class="module-card locked">
                        <div class="module-icon">üéØ</div>
                        <h3>M√≥dulo 2</h3>
                        <p>En desarrollo</p>
                        <div class="module-progress">
                            <div class="progress-bar" id="progress-module2" style="width: 0%"></div>
                        </div>
                        <div class="progress-text">
                            <span id="text-module2">üîí Pr√≥ximamente</span>
                        </div>
                    </div>

                    <!-- M√≥dulo 3 -->
                    <div class="module-card" onclick="goToModule(3)">
                        <div class="module-icon">üîç</div>
                        <h3>Identificaci√≥n de Est√≠mulos</h3>
                        <p>Reconoce y clasifica eventos ambientales</p>
                        <div class="module-progress">
                            <div class="progress-bar" id="progress-module3" style="width: 0%"></div>
                        </div>
                        <div class="progress-text">
                            <span id="text-module3">0% completado</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- FASE 2: Procesos de Condicionamiento -->
            <div style="margin-bottom: 3rem;">
                <h3 style="color: #2563eb; margin-bottom: 1rem; font-size: 1.3rem;">üî¨ FASE 2: Procesos de Condicionamiento</h3>
                <div class="modules-grid">
                    <!-- M√≥dulo 4 -->
                    <div class="module-card" onclick="goToModule(4)">
                        <div class="module-icon">üß™</div>
                        <h3>Condicionamiento Cl√°sico</h3>
                        <p>Comprende y aplica principios del CC</p>
                        <div class="module-progress">
                            <div class="progress-bar" id="progress-module4" style="width: 0%"></div>
                        </div>
                        <div class="progress-text">
                            <span id="text-module4">0% completado</span>
                        </div>
                    </div>

                    <!-- M√≥dulo 5 -->
                    <div class="module-card" onclick="goToModule(5)">
                        <div class="module-icon">‚ö°</div>
                        <h3>Condicionamiento Operante - Reforzamiento</h3>
                        <p>Domina los principios del reforzamiento</p>
                        <div class="module-progress">
                            <div class="progress-bar" id="progress-module5" style="width: 0%"></div>
                        </div>
                        <div class="progress-text">
                            <span id="text-module5">0% completado</span>
                        </div>
                    </div>

                    <!-- M√≥dulo 6 -->
                    <div class="module-card" onclick="goToModule(6)">
                        <div class="module-icon">üõë</div>
                        <h3>Castigo y Extinci√≥n</h3>
                        <p>Procedimientos de reducci√≥n conductual</p>
                        <div class="module-progress">
                            <div class="progress-bar" id="progress-module6" style="width: 0%"></div>
                        </div>
                        <div class="progress-text">
                            <span id="text-module6">0% completado</span>
                        </div>
                    </div>

                    <!-- M√≥dulo 7 -->
                    <div class="module-card" onclick="goToModule(7)">
                        <div class="module-icon">üéõÔ∏è</div>
                        <h3>Control de Est√≠mulos</h3>
                        <p>Control discriminativo y contextual</p>
                        <div class="module-progress">
                            <div class="progress-bar" id="progress-module7" style="width: 0%"></div>
                        </div>
                        <div class="progress-text">
                            <span id="text-module7">0% completado</span>
                        </div>
                    </div>

                    <!-- M√≥dulo 8 -->
                    <div class="module-card" onclick="goToModule(8)">
                        <div class="module-icon">üìä</div>
                        <h3>Programas de Reforzamiento</h3>
                        <p>Efectos de diferentes programas</p>
                        <div class="module-progress">
                            <div class="progress-bar" id="progress-module8" style="width: 0%"></div>
                        </div>
                        <div class="progress-text">
                            <span id="text-module8">0% completado</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- FASE 3: An√°lisis Funcional B√°sico -->
            <div style="margin-bottom: 3rem;">
                <h3 style="color: #2563eb; margin-bottom: 1rem; font-size: 1.3rem;">üéØ FASE 3: An√°lisis Funcional B√°sico</h3>
                <div class="modules-grid">
                    <!-- M√≥dulo 9 -->
                    <div class="module-card" onclick="goToModule(9)">
                        <div class="module-icon">üîó</div>
                        <h3>Contingencia de Tres T√©rminos</h3>
                        <p>Integra antecedentes, respuesta y consecuentes</p>
                        <div class="module-progress">
                            <div class="progress-bar" id="progress-module9" style="width: 0%"></div>
                        </div>
                        <div class="progress-text">
                            <span id="text-module9">0% completado</span>
                        </div>
                    </div>

                    <!-- M√≥dulo 10 -->
                    <div class="module-card" onclick="goToModule(10)">
                        <div class="module-icon">üí°</div>
                        <h3>Formulaci√≥n de Hip√≥tesis Funcionales</h3>
                        <p>Genera explicaciones funcionales</p>
                        <div class="module-progress">
                            <div class="progress-bar" id="progress-module10" style="width: 0%"></div>
                        </div>
                        <div class="progress-text">
                            <span id="text-module10">0% completado</span>
                        </div>
                    </div>

                    <!-- M√≥dulo 11 -->
                    <div class="module-card" onclick="goToModule(11)">
                        <div class="module-icon">üìã</div>
                        <h3>Evaluaci√≥n Funcional</h3>
                        <p>Recopila informaci√≥n para an√°lisis funcional</p>
                        <div class="module-progress">
                            <div class="progress-bar" id="progress-module11" style="width: 0%"></div>
                        </div>
                        <div class="progress-text">
                            <span id="text-module11">0% completado</span>
                        </div>
                    </div>

                    <!-- M√≥dulo 12 -->
                    <div class="module-card" onclick="goToModule(12)">
                        <div class="module-icon">üèóÔ∏è</div>
                        <h3>Construcci√≥n del An√°lisis Funcional</h3>
                        <p>Integra toda la informaci√≥n en un AF completo</p>
                        <div class="module-progress">
                            <div class="progress-bar" id="progress-module12" style="width: 0%"></div>
                        </div>
                        <div class="progress-text">
                            <span id="text-module12">0% completado</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- FASE 4: An√°lisis Funcional Avanzado -->
            <div style="margin-bottom: 3rem;">
                <h3 style="color: #2563eb; margin-bottom: 1rem; font-size: 1.3rem;">üöÄ FASE 4: An√°lisis Funcional Avanzado</h3>
                <div class="modules-grid">
                    <!-- M√≥dulo 13 -->
                    <div class="module-card" onclick="goToModule(13)">
                        <div class="module-icon">üß©</div>
                        <h3>Equivalencia y Conducta Relacional</h3>
                        <p>Aprendizaje complejo y relacional</p>
                        <div class="module-progress">
                            <div class="progress-bar" id="progress-module13" style="width: 0%"></div>
                        </div>
                        <div class="progress-text">
                            <span id="text-module13">0% completado</span>
                        </div>
                    </div>

                    <!-- M√≥dulo 14 -->
                    <div class="module-card" onclick="goToModule(14)">
                        <div class="module-icon">üí¨</div>
                        <h3>Conducta Gobernada por Reglas</h3>
                        <p>Analiza el control verbal sobre la conducta</p>
                        <div class="module-progress">
                            <div class="progress-bar" id="progress-module14" style="width: 0%"></div>
                        </div>
                        <div class="progress-text">
                            <span id="text-module14">0% completado</span>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Info adicional -->
        <section style="margin-top: 60px; text-align: center; color: var(--text-secondary);">
            <p>üìñ Contenido basado en el Manual de ITEMA - Instituto Terap√©utico de Madrid</p>
            <p style="margin-top: 8px;">üá™üá∏ Proyecto educativo para formaci√≥n en An√°lisis Conductual en Espa√±a</p>
        </section>
    </div>

    <script type="module">
        import { auth } from './js/firebase-config.js';
        import { signOut } from 'https://www.gstatic.com/firebasejs/10.8.0/firebase-auth.js';
        
        window.logout = async function() {
            try {
                await signOut(auth);
                window.location.href = 'index.html';
            } catch (error) {
                console.error('Error al cerrar sesi√≥n:', error);
            }
        }
    </script>
    <script type="module" src="js/dashboard.js"></script>
</body>
</html>
